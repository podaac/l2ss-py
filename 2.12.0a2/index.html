<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reference Guide for l2ss-py &mdash; l2ss-py 2.12.0a2 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=740299cc"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            l2ss-py
          </a>
              <div class="version">
                2.12.0a2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Reference Guide for l2ss-py</a></li>
<li><a class="reference internal" href="#l2ss-py">l2ss-py</a><ul>
<li><a class="reference internal" href="#initial-setup-with-poetry">Initial setup, with poetry</a></li>
<li><a class="reference internal" href="#how-to-test-l2ss-py-locally">How to test l2ss-py locally</a><ul>
<li><a class="reference internal" href="#unit-tests">Unit tests</a></li>
<li><a class="reference internal" href="#l2ss-py-script">l2ss-py script</a></li>
<li><a class="reference internal" href="#running-harmony-locally">Running Harmony locally</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-podaac.subsetter.subset">Module Documentation</a><ul>
<li><a class="reference internal" href="#subset-py">subset.py</a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.apply_scale_offset"><code class="docutils literal notranslate"><span class="pre">apply_scale_offset()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.build_temporal_cond"><code class="docutils literal notranslate"><span class="pre">build_temporal_cond()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.calculate_chunks"><code class="docutils literal notranslate"><span class="pre">calculate_chunks()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.compute_coordinate_variable_names"><code class="docutils literal notranslate"><span class="pre">compute_coordinate_variable_names()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.compute_time_variable_name"><code class="docutils literal notranslate"><span class="pre">compute_time_variable_name()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.compute_utc_name"><code class="docutils literal notranslate"><span class="pre">compute_utc_name()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.convert_bbox"><code class="docutils literal notranslate"><span class="pre">convert_bbox()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.convert_bound"><code class="docutils literal notranslate"><span class="pre">convert_bound()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.datetime_from_mjd"><code class="docutils literal notranslate"><span class="pre">datetime_from_mjd()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.find_matching_coords"><code class="docutils literal notranslate"><span class="pre">find_matching_coords()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.get_base_group_names"><code class="docutils literal notranslate"><span class="pre">get_base_group_names()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.get_coordinate_variable_names"><code class="docutils literal notranslate"><span class="pre">get_coordinate_variable_names()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.get_spatial_bounds"><code class="docutils literal notranslate"><span class="pre">get_spatial_bounds()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.get_time_epoch_var"><code class="docutils literal notranslate"><span class="pre">get_time_epoch_var()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.is_360"><code class="docutils literal notranslate"><span class="pre">is_360()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.is_time_mjd"><code class="docutils literal notranslate"><span class="pre">is_time_mjd()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.open_as_nc_dataset"><code class="docutils literal notranslate"><span class="pre">open_as_nc_dataset()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.override_decode_cf_datetime"><code class="docutils literal notranslate"><span class="pre">override_decode_cf_datetime()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.remove_scale_offset"><code class="docutils literal notranslate"><span class="pre">remove_scale_offset()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.set_json_history"><code class="docutils literal notranslate"><span class="pre">set_json_history()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.set_version_history"><code class="docutils literal notranslate"><span class="pre">set_version_history()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.subset"><code class="docutils literal notranslate"><span class="pre">subset()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.subset_with_bbox"><code class="docutils literal notranslate"><span class="pre">subset_with_bbox()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.subset_with_shapefile"><code class="docutils literal notranslate"><span class="pre">subset_with_shapefile()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.test_access_sst_dtime_values"><code class="docutils literal notranslate"><span class="pre">test_access_sst_dtime_values()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.translate_longitude"><code class="docutils literal notranslate"><span class="pre">translate_longitude()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.translate_timestamp"><code class="docutils literal notranslate"><span class="pre">translate_timestamp()</span></code></a></li>
<li><a class="reference internal" href="#subset-harmony-py">subset_harmony.py</a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset_harmony.L2SubsetterService"><code class="docutils literal notranslate"><span class="pre">L2SubsetterService</span></code></a><ul>
<li><a class="reference internal" href="#podaac.subsetter.subset_harmony.L2SubsetterService.__init__"><code class="docutils literal notranslate"><span class="pre">L2SubsetterService.__init__()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset_harmony.L2SubsetterService.cmd"><code class="docutils literal notranslate"><span class="pre">L2SubsetterService.cmd()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset_harmony.L2SubsetterService.prepare_output_dir"><code class="docutils literal notranslate"><span class="pre">L2SubsetterService.prepare_output_dir()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset_harmony.L2SubsetterService.process_item"><code class="docutils literal notranslate"><span class="pre">L2SubsetterService.process_item()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#podaac.subsetter.subset_harmony.harmony_to_podaac_bbox"><code class="docutils literal notranslate"><span class="pre">harmony_to_podaac_bbox()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset_harmony.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset_harmony.podaac_to_harmony_bbox"><code class="docutils literal notranslate"><span class="pre">podaac_to_harmony_bbox()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.run_subsetter.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.run_subsetter.parse_args"><code class="docutils literal notranslate"><span class="pre">parse_args()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.run_subsetter.run_subsetter"><code class="docutils literal notranslate"><span class="pre">run_subsetter()</span></code></a></li>
<li><a class="reference internal" href="#xarray-enhancements-py">xarray_enhancements.py</a></li>
<li><a class="reference internal" href="#podaac.subsetter.xarray_enhancements.cast_type"><code class="docutils literal notranslate"><span class="pre">cast_type()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.xarray_enhancements.copy_empty_dataset"><code class="docutils literal notranslate"><span class="pre">copy_empty_dataset()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.xarray_enhancements.get_indexers_from_1d"><code class="docutils literal notranslate"><span class="pre">get_indexers_from_1d()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.xarray_enhancements.get_indexers_from_nd"><code class="docutils literal notranslate"><span class="pre">get_indexers_from_nd()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.xarray_enhancements.get_variables_with_indexers"><code class="docutils literal notranslate"><span class="pre">get_variables_with_indexers()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.xarray_enhancements.where"><code class="docutils literal notranslate"><span class="pre">where()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">l2ss-py</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Reference Guide for l2ss-py</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="reference-guide-for-l2ss-py">
<h1>Reference Guide for l2ss-py<a class="headerlink" href="#reference-guide-for-l2ss-py" title="Link to this heading"></a></h1>
<div class="toctree-wrapper compound">
</div>
</section>
<section id="l2ss-py">
<h1>l2ss-py<a class="headerlink" href="#l2ss-py" title="Link to this heading"></a></h1>
<a class="reference external image-reference" href="https://sonarcloud.io/dashboard?id=podaac_l2ss-py"><img alt="Coverage" src="https://sonarcloud.io/api/project_badges/measure?project=podaac_l2ss-py&amp;metric=coverage" /></a>
<p><span class="raw-html-m2r"><br></span>
develop:
.. image:: <a class="reference external" href="https://github.com/podaac/l2ss-py/actions/workflows/build-pipeline.yml/badge.svg?branch=develop&amp;event=push">https://github.com/podaac/l2ss-py/actions/workflows/build-pipeline.yml/badge.svg?branch=develop&amp;event=push</a></p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">target<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://github.com/podaac/l2ss-py/actions/workflows/build-pipeline.yml">https://github.com/podaac/l2ss-py/actions/workflows/build-pipeline.yml</a></p>
</dd>
<dt class="field-even">alt<span class="colon">:</span></dt>
<dd class="field-even"><p>Develop Build</p>
</dd>
</dl>
</div></blockquote>
<p><span class="raw-html-m2r"><br></span>
main:
.. image:: <a class="reference external" href="https://github.com/podaac/l2ss-py/actions/workflows/build-pipeline.yml/badge.svg?branch=main&amp;event=push">https://github.com/podaac/l2ss-py/actions/workflows/build-pipeline.yml/badge.svg?branch=main&amp;event=push</a></p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">target<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://github.com/podaac/l2ss-py/actions/workflows/build-pipeline.yml">https://github.com/podaac/l2ss-py/actions/workflows/build-pipeline.yml</a></p>
</dd>
<dt class="field-even">alt<span class="colon">:</span></dt>
<dd class="field-even"><p>Main Build</p>
</dd>
</dl>
</div></blockquote>
<p>Harmony service for subsetting L2 data. l2ss-py supports:</p>
<ul class="simple">
<li><p>Spatial subsetting</p>
<ul>
<li><p>Bounding box</p></li>
<li><p>Shapefile subsetting</p></li>
<li><p>GeoJSON subsetting</p></li>
</ul>
</li>
<li><p>Temporal subsetting</p></li>
<li><p>Variable subsetting</p></li>
</ul>
<p>If you would like to contribute to l2ss-py, refer to the <a class="reference external" href="CONTRIBUTING.md">contribution document</a>.</p>
<section id="initial-setup-with-poetry">
<h2>Initial setup, with poetry<a class="headerlink" href="#initial-setup-with-poetry" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Follow the instructions for installing <code class="docutils literal notranslate"><span class="pre">poetry</span></code> <a class="reference external" href="https://python-poetry.org/docs/">here</a>.</p></li>
<li><p>Install l2ss-py, with its dependencies, by running the following from the repository directory:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">poetry</span> <span class="n">install</span>
</pre></div>
</div>
<p><a href="#id1"><span class="problematic" id="id2">**</span></a><em>Note:</em>** l2ss-py can be installed as above and run without any dependency on <code class="docutils literal notranslate"><span class="pre">harmony</span></code>.
However, to additionally test the harmony adapter layer,
extra dependencies can be installed with <code class="docutils literal notranslate"><span class="pre">poetry</span> <span class="pre">install</span> <span class="pre">-E</span> <span class="pre">harmony</span></code>.</p>
</section>
<section id="how-to-test-l2ss-py-locally">
<h2>How to test l2ss-py locally<a class="headerlink" href="#how-to-test-l2ss-py-locally" title="Link to this heading"></a></h2>
<section id="unit-tests">
<h3>Unit tests<a class="headerlink" href="#unit-tests" title="Link to this heading"></a></h3>
<p>There are comprehensive unit tests for l2ss-py. The tests can be run as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">poetry</span> <span class="n">run</span> <span class="n">pytest</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;not aws and not integration&quot;</span> <span class="n">tests</span><span class="o">/</span>
</pre></div>
</div>
<p>You can generate coverage reports as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">poetry</span> <span class="n">run</span> <span class="n">pytest</span> <span class="o">--</span><span class="n">junitxml</span><span class="o">=</span><span class="n">build</span><span class="o">/</span><span class="n">reports</span><span class="o">/</span><span class="n">pytest</span><span class="o">.</span><span class="n">xml</span> <span class="o">--</span><span class="n">cov</span><span class="o">=</span><span class="n">podaac</span><span class="o">/</span> <span class="o">--</span><span class="n">cov</span><span class="o">-</span><span class="n">report</span><span class="o">=</span><span class="n">html</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;not aws and not integration&quot;</span> <span class="n">tests</span><span class="o">/</span>
</pre></div>
</div>
<p><a href="#id3"><span class="problematic" id="id4">**</span></a><em>Note:</em>** The majority of the tests execute core functionality of l2ss-py without ever interacting with the harmony python modules.
The <code class="docutils literal notranslate"><span class="pre">test_subset_harmony</span></code> tests, however, are explicitly for testing the harmony adapter layer
and do require the harmony optional dependencies be installed,
as described above with the <code class="docutils literal notranslate"><span class="pre">-E</span> <span class="pre">harmony</span></code> argument.</p>
</section>
<section id="l2ss-py-script">
<h3>l2ss-py script<a class="headerlink" href="#l2ss-py-script" title="Link to this heading"></a></h3>
<p>You can run l2ss-py on a single granule without using Harmony. In order
to run this, the l2ss-py package must be installed in your current
Python interpreter</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ l2ss-py --help
usage: run_subsetter.py [-h] [--bbox BBOX BBOX BBOX BBOX]
                        [--variables VARIABLES [VARIABLES ...]]
                        [--min-time MIN_TIME] [--max-time MAX_TIME] [--cut]
                        input_file output_file

Run l2ss-py

positional arguments:
  input_file            File to subset
  output_file           Output file

optional arguments:
  -h, --help            show this help message and exit
  --bbox BBOX BBOX BBOX BBOX
                        Bounding box in the form min_lon min_lat max_lon
                        max_lat
  --variables VARIABLES [VARIABLES ...]
                        Variables, only include if variable subset is desired.
                        Should be a space separated list of variable names
                        e.g. sst wind_dir sst_error ...
  --min-time MIN_TIME   Min time. Should be ISO-8601 format. Only include if
                        temporal subset is desired.
  --max-time MAX_TIME   Max time. Should be ISO-8601 format. Only include if
                        temporal subset is desired.
  --cut                 If provided, scanline will be cut
  --shapefile SHAPEFILE
                        Path to either shapefile or geojson file used to subset the provided input granule
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">l2ss</span><span class="o">-</span><span class="n">py</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="nb">input</span><span class="o">.</span><span class="n">nc</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">output</span><span class="o">.</span><span class="n">nc</span> <span class="o">--</span><span class="n">bbox</span> <span class="o">-</span><span class="mi">50</span> <span class="o">-</span><span class="mi">10</span> <span class="mi">50</span> <span class="mi">10</span> <span class="o">--</span><span class="n">variables</span> <span class="n">wind_speed</span> <span class="n">wind_dir</span> <span class="n">ice_age</span> <span class="n">time</span> <span class="o">--</span><span class="nb">min</span><span class="o">-</span><span class="n">time</span> <span class="s1">&#39;2015-07-02T09:00:00&#39;</span> <span class="o">--</span><span class="nb">max</span><span class="o">-</span><span class="n">time</span> <span class="s1">&#39;2015-07-02T10:00:00&#39;</span> <span class="o">--</span><span class="n">cut</span>
</pre></div>
</div>
<p>An addition to providing a bounding box, spatial subsetting can be achieved by passing in a shapefile or a geojson file.</p>
<p><a href="#id5"><span class="problematic" id="id6">``</span></a><a href="#id7"><span class="problematic" id="id8">`</span></a>shell script
poetry run l2ss-py /path/to/input.nc /path/to/output.nc –shapefile /path/to/test.shp</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>or

```shell script
poetry run l2ss-py /path/to/input.nc /path/to/output.nc --shapefile /path/to/test.geojson
</pre></div>
</div>
</section>
<section id="running-harmony-locally">
<h3>Running Harmony locally<a class="headerlink" href="#running-harmony-locally" title="Link to this heading"></a></h3>
<p>In order to fully test l2ss-py with Harmony, you can run Harmony locally. This requires the data exists in UAT Earthdata Cloud.</p>
<ol class="arabic">
<li><p>Set up local Harmony instance. Instructions <a class="reference external" href="https://github.com/nasa/harmony#Quick-Start">here</a></p></li>
<li><p>Add concept ID for your data to <a class="reference external" href="https://github.com/nasa/harmony/blob/main/config/services.yml">services.yml</a></p></li>
<li><p>Execute a local Harmony l2ss-py request. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>localhost:3000/YOUR_COLLECTION_ID/ogc-api-coverages/1.0.0/collections/all/coverage/rangeset?format=application%2Fx-netcdf4&amp;subset=lat(-10%3A10)&amp;subset=lon(-10%3A10)&amp;maxResults=2
</pre></div>
</div>
</li>
</ol>
</section>
</section>
</section>
<section id="module-podaac.subsetter.subset">
<span id="module-documentation"></span><h1>Module Documentation<a class="headerlink" href="#module-podaac.subsetter.subset" title="Link to this heading"></a></h1>
<section id="subset-py">
<h2>subset.py<a class="headerlink" href="#subset-py" title="Link to this heading"></a></h2>
<p>Functions related to subsetting a NetCDF file.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.apply_scale_offset">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">apply_scale_offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#apply_scale_offset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.apply_scale_offset" title="Link to this definition"></a></dt>
<dd><p>Apply scale and offset to the given value</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.build_temporal_cond">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">build_temporal_cond</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_var_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#build_temporal_cond"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.build_temporal_cond" title="Link to this definition"></a></dt>
<dd><p>Build the temporal condition used in the xarray ‘where’ call which
drops data not in the given bounds. If the data in the time var is
of type ‘datetime’, assume this is a normal case where the time var
uses the epoch from the ‘units’ metadata attribute to get epoch. If
the data in the time var is of type ‘timedelta’, the epoch var is
needed to calculate the datetime.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_time</strong> (<em>str</em>) – ISO timestamp representing the lower temporal bound</p></li>
<li><p><strong>max_time</strong> (<em>str</em>) – ISO timestamp representing the upper temporal bound</p></li>
<li><p><strong>dataset</strong> (<em>xr.Dataset</em>) – Dataset to build the condition off of</p></li>
<li><p><strong>time_var_name</strong> (<em>str</em>) – Name of the time variable</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If temporally subsetted, returns a boolean ND-array the shape
of which matches the dimensions of the coordinate vars. ‘True’
is essentially a noop.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.array or boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.calculate_chunks">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">calculate_chunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#calculate_chunks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.calculate_chunks" title="Link to this definition"></a></dt>
<dd><p>For the given dataset, calculate if the size on any dimension is
worth chunking. Any dimension larger than 4000 will be chunked. This
is done to ensure that the variable can fit in memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataset</strong> (<em>xarray.Dataset</em>) – The dataset to calculate chunks for.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The chunk dictionary, where the key is the dimension and the
value is 4000 or 500 depending on how many dimensions.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.compute_coordinate_variable_names">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">compute_coordinate_variable_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#compute_coordinate_variable_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.compute_coordinate_variable_names" title="Link to this definition"></a></dt>
<dd><p>Given a dataset, determine the coordinate variable from a list
of options</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataset</strong> (<em>xr.Dataset</em>) – The dataset to find the coordinate variables for</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of strings (or list of strings), where the first element is the lat coordinate
name and the second element is the lon coordinate name</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple, str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.compute_time_variable_name">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">compute_time_variable_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_var</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Variable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_time_vars</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#compute_time_variable_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.compute_time_variable_name" title="Link to this definition"></a></dt>
<dd><p>Try to determine the name of the ‘time’ variable. This is done as
follows:</p>
<ul class="simple">
<li><p>The variable name contains ‘time’</p></li>
<li><p>The variable dimensions match the dimensions of the given lat var</p></li>
<li><p>The variable that hasn’t already been found</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>xr.Dataset</em>) – xarray dataset to find time variable from</p></li>
<li><p><strong>lat_var</strong> (<em>xr.Variable</em>) – Lat variable for this dataset</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The name of the variable</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the time variable could not be determined</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.compute_utc_name">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">compute_utc_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#compute_utc_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.compute_utc_name" title="Link to this definition"></a></dt>
<dd><p>Get the name of the utc variable if it is there to determine origine time</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.convert_bbox">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">convert_bbox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_var_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_var_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#convert_bbox"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.convert_bbox" title="Link to this definition"></a></dt>
<dd><p>This function will return a converted bbox which matches the range
of the given input file. This will convert both the latitude and
longitude range. For example, an input dataset can have a valid
longitude range of -180 –&gt; 180 or of 0 –&gt; 360.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bbox</strong> (<em>np.array</em>) – The bounding box</p></li>
<li><p><strong>dataset</strong> (<em>xarray.Dataset</em>) – The dataset which is being subset.</p></li>
<li><p><strong>lat_var_name</strong> (<em>str</em>) – Name of the lat variable in the given dataset</p></li>
<li><p><strong>lon_var_name</strong> (<em>str</em>) – Name of the lon variable in the given dataset</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>bbox</strong> – The new bbox which matches latitude and longitude ranges of the
input file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Assumption that the provided bounding box is always between
-180 –&gt; 180 for longitude and -90, 90 for latitude.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.convert_bound">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">convert_bound</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coord_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coord_var</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#convert_bound"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.convert_bound" title="Link to this definition"></a></dt>
<dd><p>This function will return a converted bound, which matches the
range of the given input file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bound</strong> (<em>np.array</em>) – 1-dimensional 2-element numpy array which represent the lower
and upper bounding box on this coordinate, respectively.</p></li>
<li><p><strong>coord_max</strong> (<em>integer</em>) – The max value which is possible given this coordinate. For
example, the max for longitude is 360.</p></li>
<li><p><strong>coord_var</strong> (<em>xarray.DataArray</em>) – The xarray variable for some coordinate.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>1-dimensional 2-element number array which represents the lower
and upper bounding box on this coordinate and has been converted
based on the valid bounds coordinate range of the dataset.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Assumption that 0 is always on the prime meridian/equator.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.datetime_from_mjd">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">datetime_from_mjd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_var_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#datetime_from_mjd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.datetime_from_mjd" title="Link to this definition"></a></dt>
<dd><p>Translate the modified julian date from the long name in the time attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>xr.Dataset</em>) – Dataset that contains time var</p></li>
<li><p><strong>time_var_name</strong> (<em>str</em>) – The name of the actual time var (with matching dims to the
coord vars)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the datetime of the modified julian date</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>datetime</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.find_matching_coords">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">find_matching_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#find_matching_coords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.find_matching_coords" title="Link to this definition"></a></dt>
<dd><p>As a backup for finding a coordinate var, look at the ‘coordinates’
metadata attribute of all data vars in the granule. Return any
coordinate vars that have name matches with the provided
‘match_list’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>xr.Dataset</em>) – Dataset to search data variable coordinate metadata attribute</p></li>
<li><p><strong>match_list</strong> (<em>list</em><em> (</em><em>str</em><em>)</em>) – List of possible matches to search for. For example,
[‘lat’, ‘latitude’] would search for variables in the
‘coordinates’ metadata attribute containing either ‘lat’
or ‘latitude’</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of matching coordinate variables names</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list (str)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.get_base_group_names">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">get_base_group_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lats</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#get_base_group_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.get_base_group_names" title="Link to this definition"></a></dt>
<dd><p>Latitude groups may be at different depths. This function gets the level
number that makes each latitude group unique from the other latitude names</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.get_coordinate_variable_names">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">get_coordinate_variable_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#get_coordinate_variable_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.get_coordinate_variable_names" title="Link to this definition"></a></dt>
<dd><p>Retrieve coordinate variables for this dataset. If coordinate
variables are provided, use those, Otherwise, attempt to determine
coordinate variables manually.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>xr.Dataset</em>) – xarray Dataset used to compute coordinate variables manually.
Only used if lat, lon, or time vars are not provided.</p></li>
<li><p><strong>lat_var_names</strong> (<em>list</em>) – List of latitude coordinate variables.</p></li>
<li><p><strong>lon_var_names</strong> (<em>list</em>) – List of longitude coordinate variables.</p></li>
<li><p><strong>time_var_names</strong> (<em>list</em>) – List of time coordinate variables.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TODO</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>add return type docstring and type hint.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.get_spatial_bounds">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">get_spatial_bounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#get_spatial_bounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.get_spatial_bounds" title="Link to this definition"></a></dt>
<dd><p>Get the spatial bounds for this dataset. These values are masked
and scaled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>xr.Dataset</em>) – Dataset to retrieve spatial bounds for</p></li>
<li><p><strong>lat_var_names</strong> (<em>str</em>) – Name of the lat variable</p></li>
<li><p><strong>lon_var_names</strong> (<em>str</em>) – Name of the lon variable</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[[lon min, lon max], [lat min, lat max]]</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.get_time_epoch_var">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">get_time_epoch_var</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_var_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#get_time_epoch_var"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.get_time_epoch_var" title="Link to this definition"></a></dt>
<dd><p>Get the name of the epoch time var. This is only needed in the case
where there is a single time var (of size 1) that contains the time
epoch used by the actual time var.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>xr.Dataset</em>) – Dataset that contains time var</p></li>
<li><p><strong>time_var_name</strong> (<em>str</em>) – The name of the actual time var (with matching dims to the
coord vars)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The name of the epoch time variable</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.is_360">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">is_360</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lon_var</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#is_360"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.is_360" title="Link to this definition"></a></dt>
<dd><p>Determine if given dataset is a ‘360’ dataset or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lon_var</strong> (<em>xr.DataArray</em>) – The lon variable from the xarray Dataset</p></li>
<li><p><strong>scale</strong> (<em>float</em>) – Used to remove scale and offset for easier calculation</p></li>
<li><p><strong>offset</strong> (<em>float</em>) – Used to remove scale and offset for easier calculation</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if dataset is 360, False if not. Defaults to False.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.is_time_mjd">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">is_time_mjd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_var_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#is_time_mjd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.is_time_mjd" title="Link to this definition"></a></dt>
<dd><p>Check to see if the time format is a time delta from a modified julian date.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>xr.Dataset</em>) – Dataset that contains time var</p></li>
<li><p><strong>time_var_name</strong> (<em>str</em>) – The name of the actual time var (with matching dims to the
coord vars)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>is time delta format in modified julian date</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.open_as_nc_dataset">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">open_as_nc_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dataset</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#open_as_nc_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.open_as_nc_dataset" title="Link to this definition"></a></dt>
<dd><p>Open netcdf file, and flatten groups if they exist.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.override_decode_cf_datetime">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">override_decode_cf_datetime</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#override_decode_cf_datetime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.override_decode_cf_datetime" title="Link to this definition"></a></dt>
<dd><p>WARNING !!! REMOVE AT EARLIEST XARRAY FIX, this is a override to xarray override_decode_cf_datetime function.
xarray has problems decoding time units with format <cite>seconds since 2000-1-1 0:0:0 0</cite>, this solves by testing
the unit to see if its parsable, if it is use original function, if not format unit into a parsable format.</p>
<p><a class="reference external" href="https://github.com/pydata/xarray/issues/7210">https://github.com/pydata/xarray/issues/7210</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.remove_scale_offset">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">remove_scale_offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#remove_scale_offset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.remove_scale_offset" title="Link to this definition"></a></dt>
<dd><p>Remove scale and offset from the given value</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.set_json_history">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">set_json_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_to_subset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shapefile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#set_json_history"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.set_json_history" title="Link to this definition"></a></dt>
<dd><p>Set the ‘json_history’ metadata header of the granule to reflect the
current version of the subsetter, as well as the parameters used
to call the subsetter. This will append an json array to the json_history of
the following format:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>xarray.Dataset</em>) – The dataset to change the header of</p></li>
<li><p><strong>cut</strong> (<em>boolean</em>) – True to cut the scanline</p></li>
<li><p><strong>file_to_subset</strong> (<em>string</em>) – The filepath of the file which was used to subset</p></li>
<li><p><strong>bbox</strong> (<em>np.ndarray</em>) – The requested bounding box</p></li>
<li><p><strong>shapefile</strong> (<em>str</em>) – Name of the shapefile to include in the version history</p></li>
<li><p><strong>TODO</strong> (add docstring and type hint for <cite>origin_source</cite> parameter.)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.set_version_history">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">set_version_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shapefile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#set_version_history"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.set_version_history" title="Link to this definition"></a></dt>
<dd><p>Set the ‘history’ metadata header of the granule to reflect the
current version of the subsetter, as well as the parameters used
to call the subsetter. This will append a line to the history of
the following format:</p>
<p>TIMESTAMP podaac.subsetter VERSION (PARAMS)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>xarray.Dataset</em>) – The dataset to change the header of</p></li>
<li><p><strong>cut</strong> (<em>boolean</em>) – True to cut the scanline</p></li>
<li><p><strong>bbox</strong> (<em>np.ndarray</em>) – The requested bounding box</p></li>
<li><p><strong>shapefile</strong> (<em>str</em>) – Name of the shapefile to include in the version history</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.subset">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_to_subset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shapefile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin_source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#subset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.subset" title="Link to this definition"></a></dt>
<dd><p>Subset a given NetCDF file given a bounding box</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_to_subset</strong> (<em>string</em>) – The location of the file which will be subset</p></li>
<li><p><strong>bbox</strong> (<em>np.ndarray</em>) – The chosen bounding box. This is a tuple of tuples formatted
as such: ((west, east), (south, north)). The assumption is that
the valid range is ((-180, 180), (-90, 90)). This will be
transformed as appropriate if the actual longitude range is
0-360.</p></li>
<li><p><strong>output_file</strong> (<em>string</em>) – The file path for the output of the subsetting operation.</p></li>
<li><p><strong>variables</strong> (<em>list</em><em>, </em><em>str</em><em>, </em><em>optional</em>) – List of variables to include in the resulting data file.
NOTE: This will remove ALL variables which are not included
in this list, including coordinate variables!</p></li>
<li><p><strong>cut</strong> (<em>boolean</em>) – True if the scanline should be cut, False if the scanline should
not be cut. Defaults to True.</p></li>
<li><p><strong>shapefile</strong> (<em>str</em>) – Name of local shapefile used to subset given file.</p></li>
<li><p><strong>min_time</strong> (<em>str</em>) – ISO timestamp representing the lower bound of the temporal
subset to be performed. If this value is not provided, the
granule will not be subset temporally on the lower bound.</p></li>
<li><p><strong>max_time</strong> (<em>str</em>) – ISO timestamp representing the upper bound of the temporal
subset to be performed. If this value is not provided, the
granule will not be subset temporally on the upper bound.</p></li>
<li><p><strong>origin_source</strong> (<em>str</em>) – Original location or filename of data to be used in “derived from”
history element.</p></li>
<li><p><strong>lat_var_names</strong> (<em>list</em>) – List of variables that represent the latitude coordinate
variables for this granule. This list will only contain more
than one value in the case where there are multiple groups and
different coordinate variables for each group.</p></li>
<li><p><strong>lon_var_names</strong> (<em>list</em>) – List of variables that represent the longitude coordinate
variables for this granule. This list will only contain more
than one value in the case where there are multiple groups and
different coordinate variables for each group.</p></li>
<li><p><strong>time_var_names</strong> (<em>list</em>) – List of variables that represent the time coordinate
variables for this granule. This list will only contain more
than one value in the case where there are multiple groups and
different coordinate variables for each group.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.subset_with_bbox">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">subset_with_bbox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#subset_with_bbox"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.subset_with_bbox" title="Link to this definition"></a></dt>
<dd><p>Subset an xarray Dataset using a spatial bounding box.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>xr.Dataset</em>) – Dataset to subset</p></li>
<li><p><strong>lat_var_names</strong> (<em>list</em>) – Name of the latitude variables in the given dataset</p></li>
<li><p><strong>lon_var_names</strong> (<em>list</em>) – Name of the longitude variables in the given dataset</p></li>
<li><p><strong>time_var_names</strong> (<em>list</em>) – Name of the time variables in the given dataset</p></li>
<li><p><strong>variables</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – List of variables to include in the result</p></li>
<li><p><strong>bbox</strong> (<em>np.array</em>) – Spatial bounding box to subset Dataset with.</p></li>
<li><p><strong>cut</strong> (<em>bool</em>) – True if scanline should be cut.</p></li>
<li><p><strong>min_time</strong> (<em>str</em>) – ISO timestamp of min temporal bound</p></li>
<li><p><strong>max_time</strong> (<em>str</em>) – ISO timestamp of max temporal bound</p></li>
<li><p><strong>TODO</strong> (add docstring and type hint for <cite>variables</cite> parameter.)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>np.array</em> – Spatial bounds of Dataset after subset operation</p></li>
<li><p><em>TODO - fix this docstring type and the type hint to match code (currently returning a list[xr.Dataset])</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.subset_with_shapefile">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">subset_with_shapefile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_var_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_var_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shapefile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunks</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#subset_with_shapefile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.subset_with_shapefile" title="Link to this definition"></a></dt>
<dd><p>Subset an xarray Dataset using a shapefile</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>xr.Dataset</em>) – Dataset to subset</p></li>
<li><p><strong>lat_var_name</strong> (<em>str</em>) – Name of the latitude variable in the given dataset</p></li>
<li><p><strong>lon_var_name</strong> (<em>str</em>) – Name of the longitude variable in the given dataset</p></li>
<li><p><strong>shapefile</strong> (<em>str</em>) – Absolute path to the shapefile used to subset the given dataset</p></li>
<li><p><strong>cut</strong> (<em>bool</em>) – True if scanline should be cut.</p></li>
<li><p><strong>TODO</strong> (add docstring and type hint for <cite>chunks</cite> parameter.)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>np.array</em> – Spatial bounds of Dataset after shapefile subset operation</p></li>
<li><p><em>TODO - fix this docstring type and the type hint to match code (currently returning a xr.Dataset)</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.test_access_sst_dtime_values">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">test_access_sst_dtime_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datafile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#test_access_sst_dtime_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.test_access_sst_dtime_values" title="Link to this definition"></a></dt>
<dd><p>Test accessing values of ‘sst_dtime’ variable in a NetCDF file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>(</strong><strong>str</strong><strong>)</strong> (<em>datafile</em>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>access_successful (bool)</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if ‘sst_dtime’ values are accessible, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.translate_longitude">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">translate_longitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#translate_longitude"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.translate_longitude" title="Link to this definition"></a></dt>
<dd><p>Translates the longitude values of a Shapely geometry from the range [-180, 180) to [0, 360).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>geometry</strong> (<em>shapely.geometry.base.BaseGeometry</em>) – The input shape geometry to be translated</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The translated shape geometry</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>geometry</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.translate_timestamp">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">translate_timestamp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_timestamp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">datetime</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#translate_timestamp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.translate_timestamp" title="Link to this definition"></a></dt>
<dd><p>Translate timestamp to datetime object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>str_timestamp</strong> (<em>str</em>) – Timestamp string. ISO or RFC</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Constructed Datetime object</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>datetime</p>
</dd>
</dl>
</dd></dl>

<section id="subset-harmony-py">
<span id="module-podaac.subsetter.subset_harmony"></span><h2>subset_harmony.py<a class="headerlink" href="#subset-harmony-py" title="Link to this heading"></a></h2>
<p>Implementation of harmony-service-lib that invokes the Level 2 subsetter.</p>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="podaac.subsetter.subset_harmony.L2SubsetterService">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset_harmony.</span></span><span class="sig-name descname"><span class="pre">L2SubsetterService</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/podaac/subsetter/subset_harmony.html#L2SubsetterService"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset_harmony.L2SubsetterService" title="Link to this definition"></a></dt>
<dd><p>See <a class="reference external" href="https://github.com/nasa/harmony-service-lib-py">https://github.com/nasa/harmony-service-lib-py</a>
for documentation and examples.</p>
<dl class="py method">
<dt class="sig sig-object py" id="podaac.subsetter.subset_harmony.L2SubsetterService.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/podaac/subsetter/subset_harmony.html#L2SubsetterService.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset_harmony.L2SubsetterService.__init__" title="Link to this definition"></a></dt>
<dd><p>Constructs the adapter</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message</strong> (<em>harmony.Message</em>) – The Harmony input which needs acting upon</p></li>
<li><p><strong>catalog</strong> (<em>pystac.Catalog</em>) – A STAC catalog containing the files on which to act</p></li>
<li><p><strong>config</strong> (<em>harmony.util.Config</em>) – The configuration values for this runtime environment.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="podaac.subsetter.subset_harmony.L2SubsetterService.cmd">
<span class="sig-name descname"><span class="pre">cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset_harmony.html#L2SubsetterService.cmd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset_harmony.L2SubsetterService.cmd" title="Link to this definition"></a></dt>
<dd><p>Logs and then runs command.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>run</strong> (<em>args Command and args to</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Command output</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="podaac.subsetter.subset_harmony.L2SubsetterService.prepare_output_dir">
<span class="sig-name descname"><span class="pre">prepare_output_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset_harmony.html#L2SubsetterService.prepare_output_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset_harmony.L2SubsetterService.prepare_output_dir" title="Link to this definition"></a></dt>
<dd><p>Deletes (if present) and recreates the given output_dir, ensuring it exists
and is empty</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_dir</strong> (<em>string</em>) – the directory to delete and recreate</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="podaac.subsetter.subset_harmony.L2SubsetterService.process_item">
<span class="sig-name descname"><span class="pre">process_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Item</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Source</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Item</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset_harmony.html#L2SubsetterService.process_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset_harmony.L2SubsetterService.process_item" title="Link to this definition"></a></dt>
<dd><p>Performs variable and bounding box subsetting on the input STAC Item’s data, returning
an output STAC item</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item</strong> (<em>pystac.Item</em>) – the item that should be subset</p></li>
<li><p><strong>source</strong> (<em>harmony.message.Source</em>) – the input source defining the variables, if any, to subset from the item</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a STAC item describing the output of the subsetter</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pystac.Item</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset_harmony.harmony_to_podaac_bbox">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset_harmony.</span></span><span class="sig-name descname"><span class="pre">harmony_to_podaac_bbox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset_harmony.html#harmony_to_podaac_bbox"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset_harmony.harmony_to_podaac_bbox" title="Link to this definition"></a></dt>
<dd><p>Convert Harmony bbox (west, south, east, north)
to PO.DAAC bbox ((west, east), (south, north))</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>bbox</strong> (<em>list</em>) – Harmony bbox</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>PO.DAAC bbox</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset_harmony.main">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset_harmony.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Config</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset_harmony.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset_harmony.main" title="Link to this definition"></a></dt>
<dd><p>Parse command line arguments and invoke the service to respond to
them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> (<em>harmony.util.Config</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset_harmony.podaac_to_harmony_bbox">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset_harmony.</span></span><span class="sig-name descname"><span class="pre">podaac_to_harmony_bbox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset_harmony.html#podaac_to_harmony_bbox"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset_harmony.podaac_to_harmony_bbox" title="Link to this definition"></a></dt>
<dd><p>Convert PO.DAAC bbox ((west, east), (south, north))
to Harmony bbox (west, south, east, north)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>bbox</strong> (<em>np.array</em>) – Podaac bbox</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>array, int or float</em> – Harmony bbox</p></li>
<li><p><em>TODO - fix this docstring type, type hint, and code to match (code currently returns a list)</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<p id="module-podaac.subsetter.run_subsetter">run_subsetter.py</p>
<p>This script runs L2SS-Py on the given granule.</p>
<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.run_subsetter.main">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.run_subsetter.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/run_subsetter.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.run_subsetter.main" title="Link to this definition"></a></dt>
<dd><p>Entry point to the script</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.run_subsetter.parse_args">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.run_subsetter.</span></span><span class="sig-name descname"><span class="pre">parse_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/run_subsetter.html#parse_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.run_subsetter.parse_args" title="Link to this definition"></a></dt>
<dd><p>Parse args for this script.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>input_file, output_file, bbox, variables, min_time, max_time</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.run_subsetter.run_subsetter">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.run_subsetter.</span></span><span class="sig-name descname"><span class="pre">run_subsetter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/run_subsetter.html#run_subsetter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.run_subsetter.run_subsetter" title="Link to this definition"></a></dt>
<dd><p>Parse arguments and run subsetter on the specified input file</p>
</dd></dl>

<section id="xarray-enhancements-py">
<span id="module-podaac.subsetter.xarray_enhancements"></span><h2>xarray_enhancements.py<a class="headerlink" href="#xarray-enhancements-py" title="Link to this heading"></a></h2>
<p>Functions which improve upon existing xarray functionality, optimized
for this specific use-case.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.xarray_enhancements.cast_type">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.xarray_enhancements.</span></span><span class="sig-name descname"><span class="pre">cast_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataArray</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/xarray_enhancements.html#cast_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.xarray_enhancements.cast_type" title="Link to this definition"></a></dt>
<dd><p>Type cast a variable into a var type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>var</strong> (<em>xr.DataArray</em>) – The dataarray to be type casted.</p></li>
<li><p><strong>var_type</strong> (<em>string</em>) – New type the variable will be type casted to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The newly type casted variable.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xr.DataArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.xarray_enhancements.copy_empty_dataset">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.xarray_enhancements.</span></span><span class="sig-name descname"><span class="pre">copy_empty_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/xarray_enhancements.html#copy_empty_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.xarray_enhancements.copy_empty_dataset" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Copy a dataset into a new, empty dataset. This dataset should:</dt><dd><ul class="simple">
<li><p>Contain the same structure as the input dataset (only include
requested variables, if variable subset)</p></li>
<li><p>Contain the same global metadata as the input dataset</p></li>
<li><p>Contain a history field which describes this subset operation.</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataset</strong> (<em>xarray.Dataset</em>) – The dataset to copy into a empty dataset.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The new dataset which has no data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.xarray_enhancements.get_indexers_from_1d">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.xarray_enhancements.</span></span><span class="sig-name descname"><span class="pre">get_indexers_from_1d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cond</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/xarray_enhancements.html#get_indexers_from_1d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.xarray_enhancements.get_indexers_from_1d" title="Link to this definition"></a></dt>
<dd><p>Get indexers from a dataset with 1 dimension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cond</strong> (<em>xarray.Dataset</em>) – Contains the result of the initial lat lon condition.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Indexer dictionary for the provided condition.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.xarray_enhancements.get_indexers_from_nd">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.xarray_enhancements.</span></span><span class="sig-name descname"><span class="pre">get_indexers_from_nd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cond</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/xarray_enhancements.html#get_indexers_from_nd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.xarray_enhancements.get_indexers_from_nd" title="Link to this definition"></a></dt>
<dd><p>Get indexers from a dataset with more than one dimension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cond</strong> (<em>xarray.Dataset</em>) – Contains the result of the initial lat lon condition.</p></li>
<li><p><strong>cut</strong> (<em>bool</em>) – True if the scanline should be cut.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Indexer dictionary for the provided condition.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.xarray_enhancements.get_variables_with_indexers">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.xarray_enhancements.</span></span><span class="sig-name descname"><span class="pre">get_variables_with_indexers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indexers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/podaac/subsetter/xarray_enhancements.html#get_variables_with_indexers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.xarray_enhancements.get_variables_with_indexers" title="Link to this definition"></a></dt>
<dd><p>returns a list of variables with bounding box dimensions and variables that
don’t have bounding box dimensions</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.xarray_enhancements.where">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.xarray_enhancements.</span></span><span class="sig-name descname"><span class="pre">where</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cond</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/xarray_enhancements.html#where"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.xarray_enhancements.where" title="Link to this definition"></a></dt>
<dd><p>Return a dataset which meets the given condition.</p>
<p>This is a modification of the existing xarray ‘where’ function.
<a class="reference external" href="https://github.com/pydata/xarray/blob/master/xarray/core/common.py#L999">https://github.com/pydata/xarray/blob/master/xarray/core/common.py#L999</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>xarray.Dataset</em>) – The dataset to filter and return.</p></li>
<li><p><strong>cond</strong> (<em>DataArray</em><em> or </em><em>Dataset with boolean dtype</em>) – Locations at which to preserve this object’s values.</p></li>
<li><p><strong>cut</strong> (<em>boolean</em>) – True if the scanline should be cut, False if the scanline should
not be cut.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The filtered Dataset</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The <cite>cond</cite> variable contains a boolean mask of valid data indices.
However in that mask, True represents valid data and False
represents invalid data.</p>
</dd></dl>

</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>