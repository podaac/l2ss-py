

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reference Guide for l2ss-py &mdash; l2ss-py 3.0.0a1+8a473c5 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=ff663b29"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            l2ss-py
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Reference Guide for l2ss-py</a></li>
<li><a class="reference internal" href="#module-podaac.subsetter.subset">Module Documentation</a><ul>
<li><a class="reference internal" href="#subset-py">subset.py</a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.apply_scale_offset"><code class="docutils literal notranslate"><span class="pre">apply_scale_offset()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.calculate_chunks"><code class="docutils literal notranslate"><span class="pre">calculate_chunks()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.compute_coordinate_variable_names"><code class="docutils literal notranslate"><span class="pre">compute_coordinate_variable_names()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.compute_utc_name"><code class="docutils literal notranslate"><span class="pre">compute_utc_name()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.convert_bbox"><code class="docutils literal notranslate"><span class="pre">convert_bbox()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.convert_bound"><code class="docutils literal notranslate"><span class="pre">convert_bound()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.create_geospatial_bounding_box"><code class="docutils literal notranslate"><span class="pre">create_geospatial_bounding_box()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.create_geospatial_bounds"><code class="docutils literal notranslate"><span class="pre">create_geospatial_bounds()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.datetime_from_mjd"><code class="docutils literal notranslate"><span class="pre">datetime_from_mjd()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.ensure_counter_clockwise"><code class="docutils literal notranslate"><span class="pre">ensure_counter_clockwise()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.get_coordinate_variable_names"><code class="docutils literal notranslate"><span class="pre">get_coordinate_variable_names()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.get_east_west_lon"><code class="docutils literal notranslate"><span class="pre">get_east_west_lon()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.get_hdf_type"><code class="docutils literal notranslate"><span class="pre">get_hdf_type()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.get_path"><code class="docutils literal notranslate"><span class="pre">get_path()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.get_time_epoch_var"><code class="docutils literal notranslate"><span class="pre">get_time_epoch_var()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.get_variable_data"><code class="docutils literal notranslate"><span class="pre">get_variable_data()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.is_360"><code class="docutils literal notranslate"><span class="pre">is_360()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.is_time_mjd"><code class="docutils literal notranslate"><span class="pre">is_time_mjd()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.new_build_temporal_cond"><code class="docutils literal notranslate"><span class="pre">new_build_temporal_cond()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.normalize_paths"><code class="docutils literal notranslate"><span class="pre">normalize_paths()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.open_as_nc_dataset"><code class="docutils literal notranslate"><span class="pre">open_as_nc_dataset()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.override_decode_cf_datetime"><code class="docutils literal notranslate"><span class="pre">override_decode_cf_datetime()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.remove_scale_offset"><code class="docutils literal notranslate"><span class="pre">remove_scale_offset()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.set_json_history"><code class="docutils literal notranslate"><span class="pre">set_json_history()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.set_version_history"><code class="docutils literal notranslate"><span class="pre">set_version_history()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.shoelace_area"><code class="docutils literal notranslate"><span class="pre">shoelace_area()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.subset"><code class="docutils literal notranslate"><span class="pre">subset()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.subset_with_bbox"><code class="docutils literal notranslate"><span class="pre">subset_with_bbox()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.subset_with_shapefile_multi"><code class="docutils literal notranslate"><span class="pre">subset_with_shapefile_multi()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.test_access_sst_dtime_values"><code class="docutils literal notranslate"><span class="pre">test_access_sst_dtime_values()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.translate_longitude"><code class="docutils literal notranslate"><span class="pre">translate_longitude()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.translate_timestamp"><code class="docutils literal notranslate"><span class="pre">translate_timestamp()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset.update_netcdf_attrs"><code class="docutils literal notranslate"><span class="pre">update_netcdf_attrs()</span></code></a></li>
<li><a class="reference internal" href="#subset-harmony-py">subset_harmony.py</a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset_harmony.L2SSException"><code class="docutils literal notranslate"><span class="pre">L2SSException</span></code></a><ul>
<li><a class="reference internal" href="#podaac.subsetter.subset_harmony.L2SSException.__init__"><code class="docutils literal notranslate"><span class="pre">L2SSException.__init__()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#podaac.subsetter.subset_harmony.L2SubsetterService"><code class="docutils literal notranslate"><span class="pre">L2SubsetterService</span></code></a><ul>
<li><a class="reference internal" href="#podaac.subsetter.subset_harmony.L2SubsetterService.__init__"><code class="docutils literal notranslate"><span class="pre">L2SubsetterService.__init__()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset_harmony.L2SubsetterService.cmd"><code class="docutils literal notranslate"><span class="pre">L2SubsetterService.cmd()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset_harmony.L2SubsetterService.prepare_output_dir"><code class="docutils literal notranslate"><span class="pre">L2SubsetterService.prepare_output_dir()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset_harmony.L2SubsetterService.process_item"><code class="docutils literal notranslate"><span class="pre">L2SubsetterService.process_item()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#podaac.subsetter.subset_harmony.harmony_to_podaac_bbox"><code class="docutils literal notranslate"><span class="pre">harmony_to_podaac_bbox()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset_harmony.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.subset_harmony.podaac_to_harmony_bbox"><code class="docutils literal notranslate"><span class="pre">podaac_to_harmony_bbox()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.run_subsetter.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.run_subsetter.parse_args"><code class="docutils literal notranslate"><span class="pre">parse_args()</span></code></a></li>
<li><a class="reference internal" href="#podaac.subsetter.run_subsetter.run_subsetter"><code class="docutils literal notranslate"><span class="pre">run_subsetter()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">l2ss-py</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Reference Guide for l2ss-py</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="reference-guide-for-l2ss-py">
<h1>Reference Guide for l2ss-py<a class="headerlink" href="#reference-guide-for-l2ss-py" title="Link to this heading"></a></h1>
<div class="toctree-wrapper compound">
</div>
</section>
<section id="module-podaac.subsetter.subset">
<span id="module-documentation"></span><h1>Module Documentation<a class="headerlink" href="#module-podaac.subsetter.subset" title="Link to this heading"></a></h1>
<section id="subset-py">
<h2>subset.py<a class="headerlink" href="#subset-py" title="Link to this heading"></a></h2>
<p>Functions related to subsetting a NetCDF file.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.apply_scale_offset">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">apply_scale_offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#apply_scale_offset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.apply_scale_offset" title="Link to this definition"></a></dt>
<dd><p>Apply scale and offset to the given value</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.calculate_chunks">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">calculate_chunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#calculate_chunks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.calculate_chunks" title="Link to this definition"></a></dt>
<dd><p>For the given dataset, calculate if the size on any dimension is
worth chunking. Any dimension larger than 4000 will be chunked. This
is done to ensure that the variable can fit in memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataset</strong> (<em>xarray.Dataset</em>) – The dataset to calculate chunks for.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The chunk dictionary, where the key is the dimension and the
value is 4000 or 500 depending on how many dimensions.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.compute_coordinate_variable_names">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">compute_coordinate_variable_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#compute_coordinate_variable_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.compute_coordinate_variable_names" title="Link to this definition"></a></dt>
<dd><p>Given a dataset, determine the coordinate variable from a list
of options</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataset</strong> (<em>xr.Dataset</em>) – The dataset to find the coordinate variables for</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of strings (or list of strings), where the first element is the lat coordinate
name and the second element is the lon coordinate name</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple, str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.compute_utc_name">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">compute_utc_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#compute_utc_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.compute_utc_name" title="Link to this definition"></a></dt>
<dd><p>Get the name of the utc variable if it is there to determine origine time</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.convert_bbox">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">convert_bbox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_var_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_var_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#convert_bbox"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.convert_bbox" title="Link to this definition"></a></dt>
<dd><p>This function will return a converted bbox which matches the range
of the given input file. This will convert both the latitude and
longitude range. For example, an input dataset can have a valid
longitude range of -180 –&gt; 180 or of 0 –&gt; 360.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bbox</strong> (<em>np.array</em>) – The bounding box</p></li>
<li><p><strong>dataset</strong> (<em>xarray.Dataset</em>) – The dataset which is being subset.</p></li>
<li><p><strong>lat_var_name</strong> (<em>str</em>) – Name of the lat variable in the given dataset</p></li>
<li><p><strong>lon_var_name</strong> (<em>str</em>) – Name of the lon variable in the given dataset</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>bbox</strong> – The new bbox which matches latitude and longitude ranges of the
input file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Assumption that the provided bounding box is always between
-180 –&gt; 180 for longitude and -90, 90 for latitude.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.convert_bound">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">convert_bound</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coord_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coord_var</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#convert_bound"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.convert_bound" title="Link to this definition"></a></dt>
<dd><p>This function will return a converted bound, which matches the
range of the given input file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bound</strong> (<em>np.array</em>) – 1-dimensional 2-element numpy array which represent the lower
and upper bounding box on this coordinate, respectively.</p></li>
<li><p><strong>coord_max</strong> (<em>integer</em>) – The max value which is possible given this coordinate. For
example, the max for longitude is 360.</p></li>
<li><p><strong>coord_var</strong> (<em>xarray.DataArray</em>) – The xarray variable for some coordinate.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>1-dimensional 2-element number array which represents the lower
and upper bounding box on this coordinate and has been converted
based on the valid bounds coordinate range of the dataset.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Assumption that 0 is always on the prime meridian/equator.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.create_geospatial_bounding_box">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">create_geospatial_bounding_box</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spatial_bounds_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">east</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">west</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#create_geospatial_bounding_box"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.create_geospatial_bounding_box" title="Link to this definition"></a></dt>
<dd><p>Generate a Well-Known Text (WKT) POLYGON string representing the geospatial bounds.</p>
<p>The polygon is defined using the min/max longitude and latitude values and follows
the format: “POLYGON ((lon_min lat_min, lon_max lat_min, lon_max lat_max,</p>
<blockquote>
<div><p>lon_min lat_max, lon_min lat_min))”</p>
</div></blockquote>
<p>This ensures the polygon forms a closed loop.</p>
<section id="parameters">
<h2>Parameters:<a class="headerlink" href="#parameters" title="Link to this heading"></a></h2>
<dl class="simple">
<dt>spatial_bounds_array<span class="classifier">list of lists</span></dt><dd><p>A 2D list where:
- spatial_bounds_array[0] contains [lon_min, lon_max]
- spatial_bounds_array[1] contains [lat_min, lat_max]</p>
</dd>
<dt>east: float or None</dt><dd><ul class="simple">
<li><p>longitude spacial bound east</p></li>
</ul>
</dd>
<dt>west: float or None</dt><dd><ul class="simple">
<li><p>longitude spacial bound west</p></li>
</ul>
</dd>
</dl>
</section>
<section id="returns">
<h2>Returns:<a class="headerlink" href="#returns" title="Link to this heading"></a></h2>
<dl class="simple">
<dt>str</dt><dd><p>A WKT POLYGON string representing the bounding box.</p>
</dd>
</dl>
</section>
<section id="example">
<h2>Example:<a class="headerlink" href="#example" title="Link to this heading"></a></h2>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spatial_bounds</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">81.489693</span><span class="p">,</span> <span class="mf">85.129562</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">78.832314</span><span class="p">,</span> <span class="mf">49.646988</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">create_geospatial_bounds</span><span class="p">(</span><span class="n">spatial_bounds</span><span class="p">)</span>
<span class="go">&#39;POLYGON ((81.489693 -78.832314, 85.129562 -78.832314, 85.129562 49.646988, 81.489693 49.646988, 81.489693 -78.832314))&#39;</span>
</pre></div>
</div>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.create_geospatial_bounds">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">create_geospatial_bounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_var_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_var_names</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#create_geospatial_bounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.create_geospatial_bounds" title="Link to this definition"></a></dt>
<dd><p>Create geospatial bounds from 4 corners of 2d array</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.datetime_from_mjd">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">datetime_from_mjd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_var_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#datetime_from_mjd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.datetime_from_mjd" title="Link to this definition"></a></dt>
<dd><p>Translate the modified julian date from the long name in the time attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>xr.Dataset</em>) – Dataset that contains time var</p></li>
<li><p><strong>time_var_name</strong> (<em>str</em>) – The name of the actual time var (with matching dims to the
coord vars)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the datetime of the modified julian date</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>datetime</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.ensure_counter_clockwise">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">ensure_counter_clockwise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#ensure_counter_clockwise"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.ensure_counter_clockwise" title="Link to this definition"></a></dt>
<dd><p>Ensures the points are ordered counterclockwise.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.get_coordinate_variable_names">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">get_coordinate_variable_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#get_coordinate_variable_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.get_coordinate_variable_names" title="Link to this definition"></a></dt>
<dd><p>Retrieve coordinate variables for this dataset. If coordinate
variables are provided, use those, Otherwise, attempt to determine
coordinate variables manually.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>xr.Dataset</em>) – xarray Dataset used to compute coordinate variables manually.
Only used if lat, lon, or time vars are not provided.</p></li>
<li><p><strong>lat_var_names</strong> (<em>list</em>) – List of latitude coordinate variables.</p></li>
<li><p><strong>lon_var_names</strong> (<em>list</em>) – List of longitude coordinate variables.</p></li>
<li><p><strong>time_var_names</strong> (<em>list</em>) – List of time coordinate variables.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TODO</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>add return type docstring and type hint.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.get_east_west_lon">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">get_east_west_lon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_var_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#get_east_west_lon"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.get_east_west_lon" title="Link to this definition"></a></dt>
<dd><p>Determines the easternmost and westernmost longitudes from a dataset,
correctly handling cases where the data crosses the antimeridian.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> – xarray.Dataset or similar
The dataset containing longitude values.</p></li>
<li><p><strong>lon_var_name</strong> – str
The name of the longitude variable in the dataset.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>(westmost, eastmost)</dt><dd><p>The westernmost and easternmost longitudes in [-180, 180] range.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.get_hdf_type">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">get_hdf_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataTree</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#get_hdf_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.get_hdf_type" title="Link to this definition"></a></dt>
<dd><p>Determine the HDF type (OMI or MLS) from a DataTree object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tree</strong> (<em>DataTree</em>) – DataTree object containing the HDF data</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>‘OMI’, ‘MLS’, or None if type cannot be determined</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.get_path">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">get_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#get_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.get_path" title="Link to this definition"></a></dt>
<dd><p>Extracts the path by removing the last part after the final ‘/’.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.get_time_epoch_var">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">get_time_epoch_var</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataTree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_var_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#get_time_epoch_var"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.get_time_epoch_var" title="Link to this definition"></a></dt>
<dd><p>Get the name of the epoch time var. This is only needed in the case
where there is a single time var (of size 1) that contains the time
epoch used by the actual time var.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tree</strong> (<em>DataTree</em>) – DataTree that contains time var</p></li>
<li><p><strong>time_var_name</strong> (<em>str</em>) – The name of the actual time var (with matching dims to the
coord vars)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The name of the epoch time variable</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.get_variable_data">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">get_variable_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dtree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#get_variable_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.get_variable_data" title="Link to this definition"></a></dt>
<dd><p>Retrieve data from a DataTree object given a variable path.</p>
<p>Parameters:
- dtree: DataTree object
- var_path: str, path to the variable (e.g., “group/time”)</p>
<p>Returns:
- The data of the variable if found, else None.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.is_360">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">is_360</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lon_var</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#is_360"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.is_360" title="Link to this definition"></a></dt>
<dd><p>Determine if given dataset is a ‘360’ dataset or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lon_var</strong> (<em>xr.DataArray</em>) – The lon variable from the xarray Dataset</p></li>
<li><p><strong>scale</strong> (<em>float</em>) – Used to remove scale and offset for easier calculation</p></li>
<li><p><strong>offset</strong> (<em>float</em>) – Used to remove scale and offset for easier calculation</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if dataset is 360, False if not. Defaults to False.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.is_time_mjd">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">is_time_mjd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_var_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#is_time_mjd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.is_time_mjd" title="Link to this definition"></a></dt>
<dd><p>Check to see if the time format is a time delta from a modified julian date.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>xr.Dataset</em>) – Dataset that contains time var</p></li>
<li><p><strong>time_var_name</strong> (<em>str</em>) – The name of the actual time var (with matching dims to the
coord vars)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>is time delta format in modified julian date</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.new_build_temporal_cond">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">new_build_temporal_cond</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_var_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#new_build_temporal_cond"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.new_build_temporal_cond" title="Link to this definition"></a></dt>
<dd><p>Build the temporal condition used in the xarray ‘where’ call which
drops data not in the given bounds. If the data in the time var is
of type ‘datetime’, assume this is a normal case where the time var
uses the epoch from the ‘units’ metadata attribute to get epoch. If
the data in the time var is of type ‘timedelta’, the epoch var is
needed to calculate the datetime.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_time</strong> (<em>str</em>) – ISO timestamp representing the lower temporal bound</p></li>
<li><p><strong>max_time</strong> (<em>str</em>) – ISO timestamp representing the upper temporal bound</p></li>
<li><p><strong>dataset</strong> (<em>xr.Dataset</em>) – Dataset to build the condition off of</p></li>
<li><p><strong>time_var_name</strong> (<em>str</em>) – Name of the time variable</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If temporally subsetted, returns a boolean ND-array the shape
of which matches the dimensions of the coordinate vars. ‘True’
is essentially a noop.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.array or boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.normalize_paths">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">normalize_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#normalize_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.normalize_paths" title="Link to this definition"></a></dt>
<dd><p>Convert paths with __ notation to normal group paths, removing leading /
and converting __ to /</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>paths</strong> (<em>list</em><em> of </em><em>str</em>) – List of paths with __ notation</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Normalized paths</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of str</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">paths</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;/__geolocation__latitude&#39;</span><span class="p">,</span> <span class="s1">&#39;/__geolocation__longitude&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">normalize_paths</span><span class="p">(</span><span class="n">paths</span><span class="p">)</span>
<span class="go">[&#39;/geolocation/latitude&#39;, &#39;/geolocation/longitude&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.open_as_nc_dataset">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">open_as_nc_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dataset</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#open_as_nc_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.open_as_nc_dataset" title="Link to this definition"></a></dt>
<dd><p>Open netcdf file, and flatten groups if they exist.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.override_decode_cf_datetime">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">override_decode_cf_datetime</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#override_decode_cf_datetime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.override_decode_cf_datetime" title="Link to this definition"></a></dt>
<dd><p>WARNING !!! REMOVE AT EARLIEST XARRAY FIX, this is a override to xarray override_decode_cf_datetime function.
xarray has problems decoding time units with format <cite>seconds since 2000-1-1 0:0:0 0</cite>, this solves by testing
the unit to see if its parsable, if it is use original function, if not format unit into a parsable format.</p>
<p><a class="reference external" href="https://github.com/pydata/xarray/issues/7210">https://github.com/pydata/xarray/issues/7210</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.remove_scale_offset">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">remove_scale_offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#remove_scale_offset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.remove_scale_offset" title="Link to this definition"></a></dt>
<dd><p>Remove scale and offset from the given value</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.set_json_history">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">set_json_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_to_subset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shapefile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#set_json_history"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.set_json_history" title="Link to this definition"></a></dt>
<dd><p>Set the ‘json_history’ metadata header of the granule to reflect the
current version of the subsetter, as well as the parameters used
to call the subsetter. This will append an json array to the json_history of
the following format:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>xarray.Dataset</em>) – The dataset to change the header of</p></li>
<li><p><strong>cut</strong> (<em>boolean</em>) – True to cut the scanline</p></li>
<li><p><strong>file_to_subset</strong> (<em>string</em>) – The filepath of the file which was used to subset</p></li>
<li><p><strong>bbox</strong> (<em>np.ndarray</em>) – The requested bounding box</p></li>
<li><p><strong>shapefile</strong> (<em>str</em>) – Name of the shapefile to include in the version history</p></li>
<li><p><strong>TODO</strong> (add docstring and type hint for <cite>origin_source</cite> parameter.)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.set_version_history">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">set_version_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shapefile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#set_version_history"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.set_version_history" title="Link to this definition"></a></dt>
<dd><p>Set the ‘history’ metadata header of the granule to reflect the
current version of the subsetter, as well as the parameters used
to call the subsetter. This will append a line to the history of
the following format:</p>
<p>TIMESTAMP podaac.subsetter VERSION (PARAMS)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>xarray.Dataset</em>) – The dataset to change the header of</p></li>
<li><p><strong>cut</strong> (<em>boolean</em>) – True to cut the scanline</p></li>
<li><p><strong>bbox</strong> (<em>np.ndarray</em>) – The requested bounding box</p></li>
<li><p><strong>shapefile</strong> (<em>str</em>) – Name of the shapefile to include in the version history</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.shoelace_area">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">shoelace_area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#shoelace_area"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.shoelace_area" title="Link to this definition"></a></dt>
<dd><p>Computes the signed area of a polygon.
Negative area → Counterclockwise
Positive area → Clockwise (needs reversing)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.subset">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_to_subset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shapefile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin_source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_subset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage_file_name_subsetted_true</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage_file_name_subsetted_false</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#subset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.subset" title="Link to this definition"></a></dt>
<dd><p>Subset a given NetCDF file given a bounding box</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_to_subset</strong> (<em>string</em>) – The location of the file which will be subset</p></li>
<li><p><strong>bbox</strong> (<em>np.ndarray</em>) – The chosen bounding box. This is a tuple of tuples formatted
as such: ((west, east), (south, north)). The assumption is that
the valid range is ((-180, 180), (-90, 90)). This will be
transformed as appropriate if the actual longitude range is
0-360.</p></li>
<li><p><strong>output_file</strong> (<em>string</em>) – The file path for the output of the subsetting operation.</p></li>
<li><p><strong>variables</strong> (<em>list</em><em>, </em><em>str</em><em>, </em><em>optional</em>) – List of variables to include in the resulting data file.
NOTE: This will remove ALL variables which are not included
in this list, including coordinate variables!</p></li>
<li><p><strong>cut</strong> (<em>boolean</em>) – True if the scanline should be cut, False if the scanline should
not be cut. Defaults to True.</p></li>
<li><p><strong>shapefile</strong> (<em>str</em>) – Name of local shapefile used to subset given file.</p></li>
<li><p><strong>min_time</strong> (<em>str</em>) – ISO timestamp representing the lower bound of the temporal
subset to be performed. If this value is not provided, the
granule will not be subset temporally on the lower bound.</p></li>
<li><p><strong>max_time</strong> (<em>str</em>) – ISO timestamp representing the upper bound of the temporal
subset to be performed. If this value is not provided, the
granule will not be subset temporally on the upper bound.</p></li>
<li><p><strong>origin_source</strong> (<em>str</em>) – Original location or filename of data to be used in “derived from”
history element.</p></li>
<li><p><strong>lat_var_names</strong> (<em>list</em>) – List of variables that represent the latitude coordinate
variables for this granule. This list will only contain more
than one value in the case where there are multiple groups and
different coordinate variables for each group.</p></li>
<li><p><strong>lon_var_names</strong> (<em>list</em>) – List of variables that represent the longitude coordinate
variables for this granule. This list will only contain more
than one value in the case where there are multiple groups and
different coordinate variables for each group.</p></li>
<li><p><strong>time_var_names</strong> (<em>list</em>) – List of variables that represent the time coordinate
variables for this granule. This list will only contain more
than one value in the case where there are multiple groups and
different coordinate variables for each group.</p></li>
<li><p><strong>pixel_subset</strong> (<em>boolean</em>) – Cut the lon lat based on the rows and columns within the bounding box,
but could result with lon lats that are outside the bounding box</p></li>
<li><p><strong>stage_file_name_subsetted_true</strong> (<em>str</em>) – stage file name if subsetting is true name depends on result of subset</p></li>
<li><p><strong>stage_file_name_subsetted_false</strong> (<em>str</em>) – stage file name if subsetting is false name depends on result of subset</p></li>
<li><p><strong>decode_times</strong> (<em># clean up time variable in SNDR before</em>)</p></li>
<li><p><strong>blank</strong> (<em># SNDR.AQUA files have ascending node time</em>)</p></li>
<li><p><strong>list</strong><strong>(</strong><strong>nc_dataset.variables</strong><strong>)</strong><strong>)</strong> (<em>if any</em><em>(</em><em>'__asc_node_tai93' in i for i in</em>) – <p>asc_time_var = nc_dataset.variables[‘__asc_node_tai93’]
if not asc_time_var[:] &gt; 0:</p>
<blockquote>
<div><p>del nc_dataset.variables[‘__asc_node_tai93’]</p>
</div></blockquote>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.subset_with_bbox">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">subset_with_bbox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_subset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#subset_with_bbox"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.subset_with_bbox" title="Link to this definition"></a></dt>
<dd><p>Subset an xarray Dataset using a spatial bounding box.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>xr.Dataset</em>) – Dataset to subset</p></li>
<li><p><strong>lat_var_names</strong> (<em>list</em>) – Name of the latitude variables in the given dataset</p></li>
<li><p><strong>lon_var_names</strong> (<em>list</em>) – Name of the longitude variables in the given dataset</p></li>
<li><p><strong>time_var_names</strong> (<em>list</em>) – Name of the time variables in the given dataset</p></li>
<li><p><strong>variables</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – List of variables to include in the result</p></li>
<li><p><strong>bbox</strong> (<em>np.array</em>) – Spatial bounding box to subset Dataset with.</p></li>
<li><p><strong>cut</strong> (<em>bool</em>) – True if scanline should be cut.</p></li>
<li><p><strong>min_time</strong> (<em>str</em>) – ISO timestamp of min temporal bound</p></li>
<li><p><strong>max_time</strong> (<em>str</em>) – ISO timestamp of max temporal bound</p></li>
<li><p><strong>pixel_subset</strong> (<em>boolean</em>) – Cut the lon lat based on the rows and columns within the bounding box,
but could result with lon lats that are outside the bounding box</p></li>
<li><p><strong>TODO</strong> (add docstring and type hint for <cite>variables</cite> parameter.)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>np.array</em> – Spatial bounds of Dataset after subset operation</p></li>
<li><p><em>TODO - fix this docstring type and the type hint to match code (currently returning a list[xr.Dataset])</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.subset_with_shapefile_multi">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">subset_with_shapefile_multi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shapefile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunks</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#subset_with_shapefile_multi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.subset_with_shapefile_multi" title="Link to this definition"></a></dt>
<dd><p>Subset an xarray Dataset using a shapefile for multiple latitude and longitude variable pairs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>xr.Dataset</em>) – Dataset to subset</p></li>
<li><p><strong>lat_var_names</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of latitude variable names in the given dataset</p></li>
<li><p><strong>lon_var_names</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of longitude variable names in the given dataset</p></li>
<li><p><strong>shapefile</strong> (<em>str</em>) – Absolute path to the shapefile used to subset the given dataset</p></li>
<li><p><strong>cut</strong> (<em>bool</em>) – True if scanline should be cut</p></li>
<li><p><strong>chunks</strong> (<em>Union</em><em>[</em><em>Dict</em><em>, </em><em>None</em><em>]</em>) – Chunking specification for dask arrays</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary mapping variable names to their respective boolean masks
Keys are formatted as “{lat_var_name}_{lon_var_name}”</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.test_access_sst_dtime_values">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">test_access_sst_dtime_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nc_dataset</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#test_access_sst_dtime_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.test_access_sst_dtime_values" title="Link to this definition"></a></dt>
<dd><p>Test accessing values of ‘sst_dtime’ variable in a NetCDF file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>(</strong><strong>netCDF4.Dataset</strong><strong>)</strong> (<em>nc_dataset</em>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>access_successful (bool)</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if ‘sst_dtime’ values are accessible, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.translate_longitude">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">translate_longitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#translate_longitude"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.translate_longitude" title="Link to this definition"></a></dt>
<dd><p>Translates the longitude values of a Shapely geometry from the range [-180, 180) to [0, 360).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>geometry</strong> (<em>shapely.geometry.base.BaseGeometry</em>) – The input shape geometry to be translated</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The translated shape geometry</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>geometry</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.translate_timestamp">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">translate_timestamp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_timestamp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">datetime</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#translate_timestamp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.translate_timestamp" title="Link to this definition"></a></dt>
<dd><p>Translate timestamp to datetime object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>str_timestamp</strong> (<em>str</em>) – Timestamp string. ISO or RFC</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Constructed Datetime object</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>datetime</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset.update_netcdf_attrs">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset.</span></span><span class="sig-name descname"><span class="pre">update_netcdf_attrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataTree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spatial_bounds_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage_file_name_subsetted_true</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage_file_name_subsetted_false</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset.html#update_netcdf_attrs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset.update_netcdf_attrs" title="Link to this definition"></a></dt>
<dd><p>Update NetCDF file attributes with spatial bounds and product name information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_file</strong> (<em>str</em>) – Path to the NetCDF file to be updated</p></li>
<li><p><strong>dataset</strong> (<em>xr.DataTree</em>) – xarray data tree</p></li>
<li><p><strong>lon_var_names</strong> (<em>list</em>) – List of possible longitude variable names</p></li>
<li><p><strong>lat_var_names</strong> (<em>list</em>) – List of possible latitude variable names</p></li>
<li><p><strong>spatial_bounds_array</strong> (<em>list</em><em>, </em><em>optional</em>) – Nested list containing spatial bounds in format:
[[lon_min, lon_max], [lat_min, lat_max]]</p></li>
<li><p><strong>stage_file_name_subsetted_true</strong> (<em>str</em><em>, </em><em>optional</em>) – Product name when subset is True</p></li>
<li><p><strong>stage_file_name_subsetted_false</strong> (<em>str</em><em>, </em><em>optional</em>) – Product name when subset is False</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Updates various geospatial attributes in the NetCDF file</p></li>
<li><p>Removes deprecated center coordinate attributes</p></li>
<li><p>Sets the product name based on provided parameters</p></li>
<li><p>Preserves original attribute types when setting new values</p></li>
</ul>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spatial_bounds</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">120.5</span><span class="p">,</span> <span class="mf">130.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">10.5</span><span class="p">,</span> <span class="mf">10.5</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">update_netcdf_attrs</span><span class="p">(</span><span class="s2">&quot;output.nc&quot;</span><span class="p">,</span> <span class="n">datasets</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;lon&quot;</span><span class="p">],</span> <span class="n">spatial_bounds</span><span class="p">,</span> <span class="s2">&quot;subset_true.nc&quot;</span><span class="p">,</span> <span class="s2">&quot;subset_false.nc&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<section id="subset-harmony-py">
<span id="module-podaac.subsetter.subset_harmony"></span><h2>subset_harmony.py<a class="headerlink" href="#subset-harmony-py" title="Link to this heading"></a></h2>
<p>Implementation of harmony-service-lib that invokes the Level 2 subsetter.</p>
</section>
<dl class="py exception">
<dt class="sig sig-object py" id="podaac.subsetter.subset_harmony.L2SSException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset_harmony.</span></span><span class="sig-name descname"><span class="pre">L2SSException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original_exception</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/podaac/subsetter/subset_harmony.html#L2SSException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset_harmony.L2SSException" title="Link to this definition"></a></dt>
<dd><p>L2SS Exception class for custom error messages to see in harmony api calls.</p>
<dl class="py method">
<dt class="sig sig-object py" id="podaac.subsetter.subset_harmony.L2SSException.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original_exception</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/podaac/subsetter/subset_harmony.html#L2SSException.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset_harmony.L2SSException.__init__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="podaac.subsetter.subset_harmony.L2SubsetterService">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset_harmony.</span></span><span class="sig-name descname"><span class="pre">L2SubsetterService</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/podaac/subsetter/subset_harmony.html#L2SubsetterService"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset_harmony.L2SubsetterService" title="Link to this definition"></a></dt>
<dd><p>See <a class="reference external" href="https://github.com/nasa/harmony-service-lib-py">https://github.com/nasa/harmony-service-lib-py</a>
for documentation and examples.</p>
<dl class="py method">
<dt class="sig sig-object py" id="podaac.subsetter.subset_harmony.L2SubsetterService.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/podaac/subsetter/subset_harmony.html#L2SubsetterService.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset_harmony.L2SubsetterService.__init__" title="Link to this definition"></a></dt>
<dd><p>Constructs the adapter</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message</strong> (<em>harmony_service_lib.Message</em>) – The Harmony input which needs acting upon</p></li>
<li><p><strong>catalog</strong> (<em>pystac.Catalog</em>) – A STAC catalog containing the files on which to act</p></li>
<li><p><strong>config</strong> (<em>harmony_service_lib.util.Config</em>) – The configuration values for this runtime environment.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="podaac.subsetter.subset_harmony.L2SubsetterService.cmd">
<span class="sig-name descname"><span class="pre">cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset_harmony.html#L2SubsetterService.cmd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset_harmony.L2SubsetterService.cmd" title="Link to this definition"></a></dt>
<dd><p>Logs and then runs command.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>run</strong> (<em>args Command and args to</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Command output</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="podaac.subsetter.subset_harmony.L2SubsetterService.prepare_output_dir">
<span class="sig-name descname"><span class="pre">prepare_output_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset_harmony.html#L2SubsetterService.prepare_output_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset_harmony.L2SubsetterService.prepare_output_dir" title="Link to this definition"></a></dt>
<dd><p>Deletes (if present) and recreates the given output_dir, ensuring it exists
and is empty</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_dir</strong> (<em>string</em>) – the directory to delete and recreate</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="podaac.subsetter.subset_harmony.L2SubsetterService.process_item">
<span class="sig-name descname"><span class="pre">process_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Item</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Source</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Item</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset_harmony.html#L2SubsetterService.process_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset_harmony.L2SubsetterService.process_item" title="Link to this definition"></a></dt>
<dd><p>Performs variable and bounding box subsetting on the input STAC Item’s data, returning
an output STAC item</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item</strong> (<em>pystac.Item</em>) – the item that should be subset</p></li>
<li><p><strong>source</strong> (<em>harmony.message.Source</em>) – the input source defining the variables, if any, to subset from the item</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a STAC item describing the output of the subsetter</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pystac.Item</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset_harmony.harmony_to_podaac_bbox">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset_harmony.</span></span><span class="sig-name descname"><span class="pre">harmony_to_podaac_bbox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset_harmony.html#harmony_to_podaac_bbox"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset_harmony.harmony_to_podaac_bbox" title="Link to this definition"></a></dt>
<dd><p>Convert Harmony bbox (west, south, east, north)
to PO.DAAC bbox ((west, east), (south, north))</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>bbox</strong> (<em>list</em>) – Harmony bbox</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>PO.DAAC bbox</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset_harmony.main">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset_harmony.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Config</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset_harmony.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset_harmony.main" title="Link to this definition"></a></dt>
<dd><p>Parse command line arguments and invoke the service to respond to
them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> (<em>harmony.util.Config</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.subset_harmony.podaac_to_harmony_bbox">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.subset_harmony.</span></span><span class="sig-name descname"><span class="pre">podaac_to_harmony_bbox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/subset_harmony.html#podaac_to_harmony_bbox"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.subset_harmony.podaac_to_harmony_bbox" title="Link to this definition"></a></dt>
<dd><p>Convert PO.DAAC bbox ((west, east), (south, north))
to Harmony bbox (west, south, east, north)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>bbox</strong> (<em>np.array</em>) – Podaac bbox</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>array, int or float</em> – Harmony bbox</p></li>
<li><p><em>TODO - fix this docstring type, type hint, and code to match (code currently returns a list)</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<p id="module-podaac.subsetter.run_subsetter">run_subsetter.py</p>
<p>This script runs L2SS-Py on the given granule.</p>
<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.run_subsetter.main">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.run_subsetter.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/run_subsetter.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.run_subsetter.main" title="Link to this definition"></a></dt>
<dd><p>Entry point to the script</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.run_subsetter.parse_args">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.run_subsetter.</span></span><span class="sig-name descname"><span class="pre">parse_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/run_subsetter.html#parse_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.run_subsetter.parse_args" title="Link to this definition"></a></dt>
<dd><p>Parse args for this script.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>input_file, output_file, bbox, variables, min_time, max_time</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="podaac.subsetter.run_subsetter.run_subsetter">
<span class="sig-prename descclassname"><span class="pre">podaac.subsetter.run_subsetter.</span></span><span class="sig-name descname"><span class="pre">run_subsetter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/podaac/subsetter/run_subsetter.html#run_subsetter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#podaac.subsetter.run_subsetter.run_subsetter" title="Link to this definition"></a></dt>
<dd><p>Parse arguments and run subsetter on the specified input file</p>
</dd></dl>

</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>